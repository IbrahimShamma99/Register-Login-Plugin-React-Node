{"ast":null,"code":"import _regeneratorRuntime from \"/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport LoginService from '../services/LoginService';\nimport Message from '../elements/Message';\nimport Error from '../elements/Error';\nimport { COMMON_FIELDS, REGISTRATION_FIELDS, LOGIN_FIELDS, LOGIN_MESSAGE, ERROR_IN_LOGIN } from '../MessageBundle';\nimport { register } from '../ClientConstants/ClientConstants';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.handleOnChangeUserName = function (e) {\n      _this.setState({\n        user_name: e.target.value\n      });\n    };\n\n    _this.handleOnChangePassword = function (e) {\n      _this.setState({\n        password: e.target.value\n      });\n    };\n\n    _this.onSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var data, loginResult;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = {\n                  user_name: _this.state.user_name,\n                  password: _this.state.password\n                };\n                _context.next = 3;\n                return LoginService(data);\n\n              case 3:\n                loginResult = _context.sent;\n\n                if (loginResult !== 200) {\n                  _this.setState({\n                    error: true,\n                    loginSuccess: false\n                  });\n                } else _this.setState({\n                  loginSuccess: true,\n                  error: false\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      user_name: '',\n      password: '',\n      error: false,\n      loginSuccess: false\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          loginSuccess = _this$state.loginSuccess,\n          error = _this$state.error;\n      return React.createElement(\"div\", {\n        className: \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \" \", LOGIN_FIELDS.LOGIN_HEADING, \" \"), \"  \", ' ', React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"fields\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \" \", COMMON_FIELDS.USER_NAME, \" \"), \"  \", ' ', React.createElement(\"input\", {\n        type: \"text\",\n        name: \"Username\",\n        onChange: this.handleOnChangeUserName,\n        autoComplete: \"Username\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })), ' ', ' ', React.createElement(\"div\", {\n        className: \"fields\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, ' ', React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \" \", COMMON_FIELDS.PASSWORD, \" \"), \"  \", ' ', React.createElement(\"input\", {\n        type: \"password\",\n        name: \"Password\",\n        onChange: this.handleOnChangePassword,\n        autoComplete: \"Password\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), ' ', ' '), ' ', ' ', React.createElement(\"div\", {\n        className: \"buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, ' ', ' ', React.createElement(\"button\", {\n        type: \"button\",\n        onClick: this.onSubmit,\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, ' ', LOGIN_FIELDS.LOGIN, \"  \", ' '), ' ', React.createElement(Link, {\n        to: register,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \" \", REGISTRATION_FIELDS.REGISTER, \" \"), \"    \", ' '), ' ', ' '), ' ', ' '), ' ', loginSuccess && React.createElement(Message, {\n        message: LOGIN_MESSAGE,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), \"  \", ' ', error && React.createElement(Error, {\n        message: ERROR_IN_LOGIN,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), \"  \", ' ');\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport { Login as default };","map":{"version":3,"sources":["/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/src/components/Login.js"],"names":["React","Component","Link","LoginService","Message","Error","COMMON_FIELDS","REGISTRATION_FIELDS","LOGIN_FIELDS","LOGIN_MESSAGE","ERROR_IN_LOGIN","register","Login","props","handleOnChangeUserName","e","setState","user_name","target","value","handleOnChangePassword","password","onSubmit","data","state","loginResult","error","loginSuccess","LOGIN_HEADING","USER_NAME","PASSWORD","LOGIN","REGISTER"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,SACEC,aADF,EAEEC,mBAFF,EAGEC,YAHF,EAIEC,aAJF,EAKEC,cALF,QAMO,kBANP;AAOA,SAASC,QAAT,QAAyB,oCAAzB;;IAEqBC,K;;;;;AACnB,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,+EAAMA,KAAN;;AADiB,UAWnBC,sBAXmB,GAWM,UAACC,CAAD,EAAO;AAC9B,YAAKC,QAAL,CAAc;AACZC,QAAAA,SAAS,EAAEF,CAAC,CAACG,MAAF,CAASC;AADR,OAAd;AAGD,KAfkB;;AAAA,UAiBnBC,sBAjBmB,GAiBM,UAACL,CAAD,EAAO;AAC9B,YAAKC,QAAL,CAAc;AACZK,QAAAA,QAAQ,EAAEN,CAAC,CAACG,MAAF,CAASC;AADP,OAAd;AAGD,KArBkB;;AAAA,UAuBnBG,QAvBmB;AAAA;AAAA;AAAA;AAAA;AAAA,+BAuBR,iBAAOP,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACHQ,gBAAAA,IADG,GACI;AACXN,kBAAAA,SAAS,EAAE,MAAKO,KAAL,CAAWP,SADX;AAEXI,kBAAAA,QAAQ,EAAE,MAAKG,KAAL,CAAWH;AAFV,iBADJ;AAAA;AAAA,uBAKiBlB,YAAY,CAACoB,IAAD,CAL7B;;AAAA;AAKHE,gBAAAA,WALG;;AAMT,oBAAIA,WAAW,KAAK,GAApB,EAAyB;AACvB,wBAAKT,QAAL,CAAc;AACZU,oBAAAA,KAAK,EAAE,IADK;AAEZC,oBAAAA,YAAY,EAAE;AAFF,mBAAd;AAID,iBALD,MAME,MAAKX,QAAL,CAAc;AACZW,kBAAAA,YAAY,EAAE,IADF;AAEZD,kBAAAA,KAAK,EAAE;AAFK,iBAAd;;AAZO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAvBQ;;AAAA;AAAA;AAAA;AAAA;;AAGjB,UAAKF,KAAL,GAAa;AACXP,MAAAA,SAAS,EAAE,EADA;AAEXI,MAAAA,QAAQ,EAAE,EAFC;AAGXK,MAAAA,KAAK,EAAE,KAHI;AAIXC,MAAAA,YAAY,EAAE;AAJH,KAAb;AAHiB;AASlB;;;;6BAgCQ;AAAA,wBACyB,KAAKH,KAD9B;AAAA,UACCG,YADD,eACCA,YADD;AAAA,UACeD,KADf,eACeA,KADf;AAGP,aACE;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAMlB,YAAY,CAACoB,aAAnB,MADF,QAC4C,GAD5C,EAEE;AAAM,QAAA,QAAQ,EAAE,KAAKN,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAKhB,aAAa,CAACuB,SAAnB,MADF,QACuC,GADvC,EAEE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,QAAQ,EAAE,KAAKf,sBAHjB;AAIE,QAAA,YAAY,EAAC,UAJf;AAKE,QAAA,QAAQ,MALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,EAUS,GAVT,EAWK,GAXL,EAYE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,GADH,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAKR,aAAa,CAACwB,QAAnB,MAFJ,QAEwC,GAFxC,EAGE;AACE,QAAA,IAAI,EAAC,UADP;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,QAAQ,EAAE,KAAKV,sBAHjB;AAIE,QAAA,YAAY,EAAC,UAJf;AAKE,QAAA,QAAQ,MALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EASK,GATL,EAUK,GAVL,CAZF,EAuBS,GAvBT,EAwBK,GAxBL,EAyBE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,GADH,EAEI,GAFJ,EAGE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,OAAO,EAAE,KAAKE,QAFhB;AAGE,QAAA,SAAS,EAAC,iBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKG,GALH,EAMKd,YAAY,CAACuB,KANlB,QAM2B,GAN3B,CAHF,EAUY,GAVZ,EAWG,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAEpB,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAsBJ,mBAAmB,CAACyB,QAA1C,MAXH,UAWmE,GAXnE,CAzBF,EAqCS,GArCT,EAsCM,GAtCN,CADF,EAwCS,GAxCT,EAyCK,GAzCL,CAFF,EA4CU,GA5CV,EA6CKL,YAAY,IAAI,oBAAC,OAAD;AAAS,QAAA,OAAO,EAAElB,aAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA7CrB,QA6C4D,GA7C5D,EA8CGiB,KAAK,IAAI,oBAAC,KAAD;AAAO,QAAA,OAAO,EAAEhB,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA9CZ,QA8CkD,GA9ClD,CADF;AAkDD;;;;EA/FgCT,S;;SAAdW,K","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport LoginService from '../services/LoginService';\nimport Message from '../elements/Message';\nimport Error from '../elements/Error';\nimport {\n  COMMON_FIELDS,\n  REGISTRATION_FIELDS,\n  LOGIN_FIELDS,\n  LOGIN_MESSAGE,\n  ERROR_IN_LOGIN,\n} from '../MessageBundle';\nimport { register } from '../ClientConstants/ClientConstants';\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      user_name: '',\n      password: '',\n      error: false,\n      loginSuccess: false,\n    };\n  }\n\n  handleOnChangeUserName = (e) => {\n    this.setState({\n      user_name: e.target.value,\n    });\n  };\n\n  handleOnChangePassword = (e) => {\n    this.setState({\n      password: e.target.value,\n    });\n  };\n\n  onSubmit = async (e) => {\n    const data = {\n      user_name: this.state.user_name,\n      password: this.state.password,\n    };\n    const loginResult = await LoginService(data);\n    if (loginResult !== 200) {\n      this.setState({\n        error: true,\n        loginSuccess: false,\n      });\n    } else\n      this.setState({\n        loginSuccess: true,\n        error: false,\n      });\n  };\n\n  render() {\n    const { loginSuccess, error } = this.state;\n\n    return (\n      <div className=\"Login\">\n        <h1> {LOGIN_FIELDS.LOGIN_HEADING} </h1>  {' '}\n        <form onSubmit={this.onSubmit}>\n          <div>\n            <div className=\"fields\">\n              <p> {COMMON_FIELDS.USER_NAME} </p>  {' '}\n              <input\n                type=\"text\"\n                name=\"Username\"\n                onChange={this.handleOnChangeUserName}\n                autoComplete=\"Username\"\n                required\n              />\n            </div>{' '}\n              {' '}\n            <div className=\"fields\">\n              {' '}\n                <p> {COMMON_FIELDS.PASSWORD} </p>  {' '}\n              <input\n                type=\"password\"\n                name=\"Password\"\n                onChange={this.handleOnChangePassword}\n                autoComplete=\"Password\"\n                required\n              />{' '}\n                {' '}\n            </div>{' '}\n              {' '}\n            <div className=\"buttons\">\n              {' '}\n               {' '}\n              <button\n                type=\"button\"\n                onClick={this.onSubmit}\n                className=\"btn btn-primary\"\n              >\n                {' '}\n                  {LOGIN_FIELDS.LOGIN}  {' '}\n              </button>{' '}\n               <Link to={register}> {REGISTRATION_FIELDS.REGISTER} </Link>    {' '}\n            </div>{' '}\n               {' '}\n          </div>{' '}\n            {' '}\n        </form>{' '}\n          {loginSuccess && <Message message={LOGIN_MESSAGE} />}  {' '}\n        {error && <Error message={ERROR_IN_LOGIN} />}  {' '}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}